<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- //<link rel="stylesheet" href="./assets/style.css" /> -->
    <title>Document</title>
	
	<style>
	 * {
    margin: 0;
    padding: 0
}

body {
	display: flex;
	//background-color: #191970;
	
}

.container {
 background-color: #191970;
 height: 100vh;
 color: #fff;
 
}

.container2 {
 
 //color: #fff;
 width: 100%;
}

table {
	width: 200px;
    border-collapse: collapse;
	text-align: center;
}


.card1 {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 50px;
    padding: 10px;

    height: 30%;
}
.card {
    display: flex;
	flex-direction: column;
    justify-content: center;
    align-items: center;

    height: 30%;
}

.card3 {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 50px;

    height: 30%;
}

.models {
    height: 50px;
    width: 300px;
    text-align: center;
}

.grade {
    height: 30px;
    width: 120px;
}

#peso {
    height: 25px;
    width: 100px;
}

#linear {
	margin-bottom: 20px;
	height: 40px;
}

#btn-salvar {
    height: 40px;
    width: 100px;  
}
#btn-finalizar {
    height: 25px;
    width: 100px;  
}

.fim {
    display: flex;
    justify-content: space-between;
    width: 100%;
}
.fim h1 {
	background-color: red;
	width: 50px;
	cursor: pointer;
	text-align: center;
}

#logo {
	background-color: #000;
	width: 418px;
	border-radius: 10px;
}

.fim2 {
    display: flex;
    justify-content: flex-end;
    width: 95%;
    padding: 10px;
}
.fim2 h1 {
	background-color: red;
	width: 50px;
	cursor: pointer;
	text-align: center;
}

.btn-finalizar {
	display: flex;
	justify-content: center;
	margin-top: 100px;
}

#btn-fechar {
	height: 50px;
	width: 100px;
}

#acoes {
 display: flex;
 flex-direction: column;
 gap: 5px;
 margin-top: 40px;
 padding: 10px;
 
}

#acoes div {
 border-top: 2px solid #000;
 width: 200px;
 text-align: center;
}

#acoes span {
 display: flex;
  justify-content: space-around;
 gap: 20px;
}

table {
 width: 100vw;
 font-size: 0.8rem;
}

.cabecalho span {
display: flex;
justify-content: space-around;
align-items: center;
height: 40px;
}

<!-- span div { -->
 <!-- text-transform: uppercase; -->
<!-- } -->

@media print {
 .fim2 {
  display: none;
 }
 
 #btn-clear {
   display: none;
 }
}

#btn-clear {
    background-color: gold;
    height: 30px;
    width: 50px;
}

canvas {
 height: 150px;
 width: 100%;
}

</style>
</head>
<body>	
	<main id="main2" class="container2">
	  <div class="fim2">
            <h1>X</h1>
        </div>
	 <table border='1'>
	     <thead>
		     <tr><img src="https://firebasestorage.googleapis.com/v0/b/palpite-ex.appspot.com/o/Capturar26.PNG?alt=media&token=ab6335c2-f488-4f1e-a1a1-250f95e90379" width="100%"/></tr>
			 <!-- <th>&nbsp;</th> -->
			 <tr>
				 <td class="cabecalho" colspan="10">
				 <span>
				     <div>DATA:</div>
					  <div>TRANSPORTADORA:</div>
				 </span>
				 </td>
			 </tr>
			<!-- <th>&nbsp;</th> -->
			 <tr>
			 <td>ID</td>
			 <td width="100" id="npedido">Nº DO PEDIDO</td>
			 <td>CLIENTE</td>
			 <td width="150">MODELO</td>
			 <td>TARA</td>
			 <td width="50">VOLUMES</td>
			 <td width="40">QUANTIDADES</td>
			 <td width="60">PESO</td>
			 <td>LINEAR</td>
			 <td>OBSERVAÇÕES</td>
			 </tr>
		 </thead>
		 <tbody id="remove1"></tbody>
		 <tbody id="remove2"></tbody>
	 </table>
		 <!-- <div class="btn-finalizar"> -->
		  <!-- <input id="btn-fechar" type="button" value="FINALIZAR" > -->
		 <!-- </div> -->
		 <div id="acoes">
				
				  <input type="button" id="btn-clear" value="Clear" />
				
			<canvas></canvas>
			<span>
			 <div>AUX. DE LABORATÓRIO</div>
			<div>SUPERVISOR DE EXPEDIÇÃO</div>
			<div>COORDENADOR DE CONFECÇÃO</div>
			</span>
		 </div>
		 <center><h5 style="margin-top: 40px">versão 1.0.2</h5></center>
	</main>
	
	<script src="file:///storage/emulated/0/Download/diane/assets/plugin/package/dist/signature_pad.umd.min.js"></script>
	<script src="./assets/plugin/package/dist/signature_pad.umd.min.js"></script>
    <script>
	
	const log = console.log;
	 
	 function del() {
	     var id = prompt("digite o ID:");
		 
		 var numTR = "model"+id;
		 
		 localStorage.removeItem(numTR);
		 
		 location.reload();
	 }
	 

var el = document.getElementById('btn-salvar');
var columnPedido = document.getElementById('npedido');
var finalizar = document.querySelectorAll('h1')[1];
var finalizar2 = document.querySelectorAll('h1')[2];
var container = document.querySelector('.container');
var container2 = document.querySelector('.container2');
var fechar = document.querySelector('#btn-fechar');


	
var obj = {
"SOFIA BANHO": 0.019,
"SOFIA ROSTO": 0.086,
"BAMBÚ BANHO": 0.021,
"BAMBÚ ROSTO": 0.010,
"GRÉCIA	BANHO": 0.018,
"GRÉCIA	ROSTO": 0.097,
"MÔNACO	BANHO": 0.017,
"MÔNACO	ROSTO": 0.085,
"FLORENÇA BANHO": 0.024,
"FLORENÇA ROSTO": 0.012,
"ROYAL BANHO": 0.025,
"ROYAL ROSTO": 0.010,
"PRO-LINE BANHO": 0.019,
"PRO-LINE ROSTO LISA": 0.018,
"ÉVORA BANHO": 0.018,
"ÉVORA	ROSTO": 0.011,
"MILÃO	BANHO": 0.016,
"MILÃO	ROSTO": 0.016,
"MILÃO 2 BANHO": 0.016,
"MILÃO 2 ROSTO": 0.016,
"HOTEL BANHO": 0,
"HOTEL ROSTO": 0,
"HOTEL PISO": 0,
"HOTEL 2 BANHO": 0,
"PRO-LINE D	BANHO LISA": 0.019,
"PRO-LINE D	ROSTO LISA": 0.018,
"PRO-LINE PISO": 0.019,
}


var finalizar = document.querySelectorAll('h1')[0];

finalizar.addEventListener("click", function() {
	
	location.href = "./index.html";
	
});


columnPedido.addEventListener("click", function() {
	
	   var npedido = prompt("digite o numero do pedido: ");
		 var cliente = prompt("digite o nome do cliente :");		 
	
	
});

<!-- fechar.addEventListener("click", function() { -->
	<!-- localStorage.clear(); -->
	<!-- location.href = 'file:///storage/emulated/0/Download/diane/DIANA_CALC.html';	 -->
	
<!-- }); -->

function tabela(a, b, c, d, e, f, g) {
const tbody = document.querySelector('#remove1');
const tr = document.createElement('tr');
const td0 = document.createElement('td');
const td = document.createElement('td');
const td2 = document.createElement('td');
const td3 = document.createElement('td');
const td4 = document.createElement('td');
const td5 = document.createElement('td');
const td6 = document.createElement('td');
const npedido = document.createElement('td');
const cliente = document.createElement('td');
const obs = document.createElement('td');

obs.style.border = 'none';

tbody.appendChild(tr);

tr.appendChild(td0);
tr.appendChild(npedido);
tr.appendChild(cliente);

tr.appendChild(td);
tr.appendChild(td2);
tr.appendChild(td3);
tr.appendChild(td4);
tr.appendChild(td5);
tr.appendChild(td6);
tr.appendChild(obs);


td0.innerHTML = g;
<!-- npedido.innerHTML = ''; -->
<!-- cliente.innerHTML = ''; -->


td.innerHTML = a;
td2.innerHTML = b;
td3.innerHTML = c;
td4.innerHTML = d;
td5.innerHTML = e;
td6.innerHTML = f;
obs.innerHTML = '';



document.querySelector('table').appendChild(tbody);

}

const array1 = [];
const array2 = [];
const array3 = [];
const array4 = [];
const array5 = [];
const array6 = [];
const array7 = [];

for(let i = 0; i < localStorage.length; i++) {
  var tese = localStorage.getItem("model"+i).split(',');
  
   var tara = parseFloat(tese[5]).toFixed(3);
 var linear = parseFloat(tese[4]).toFixed(3);
  
  
  tabela(tese[0], tara, tese[1], tese[2], tese[3], linear, i);
  
  array1.push(parseFloat(tese[0]));
  array2.push(parseFloat(tese[1]));
  array3.push(parseFloat(tese[2]));
  array4.push(parseFloat(tese[3]));
  array5.push(parseFloat(tese[4]));
  array6.push(parseFloat(tese[5]));
  array7.push(i);
  
  
  
}
console.log(array7)
function result() {
const tbody = document.querySelector('#remove2');
const tr = document.createElement('tr');
const td_total_modelo = document.createElement('td');
const td_total_tara = document.createElement('td');
const td_total_volumes = document.createElement('td');
const td_total_quant = document.createElement('td');
const td_total_peso = document.createElement('td');
const td_total_linear = document.createElement('td');
const id = document.createElement('td');
const npedido = document.createElement('td');
const cliente = document.createElement('td');
const obs = document.createElement('td');



var arrayD1 = array1.reduce((total, num) => total + num, 0);
var arrayD2 = array2.reduce((total, num) => total + num, 0);
var arrayD3 = array3.reduce((total, num) => total + num, 0);
var arrayD4 = array4.reduce((total, num) => total + num, 0);
var arrayD5 = array5.reduce((total, num) => total + num, 0);
var arrayD6 = array6.reduce((total, num) => total + num, 0);

tbody.appendChild(tr);
obs.style.border = 'none';
obs.style.borderBottom = '1px solid gray';
tr.appendChild(id);

tr.appendChild(npedido);
tr.appendChild(cliente);

tr.appendChild(td_total_modelo);
tr.appendChild(td_total_tara);
tr.appendChild(td_total_volumes);
tr.appendChild(td_total_quant);
tr.appendChild(td_total_peso);
tr.appendChild(td_total_linear);
tr.appendChild(obs);


id.innerHTML = "-----";

npedido.innerHTML = "-----";
cliente.innerHTML = "-----";

td_total_modelo.innerHTML = "-----";
td_total_tara.innerHTML = arrayD6.toFixed(3);
td_total_volumes.innerHTML = arrayD2;
td_total_quant.innerHTML = arrayD3;
td_total_peso.innerHTML = arrayD4;
td_total_linear.innerHTML = arrayD5.toFixed(3);

document.querySelector('table').appendChild(tbody);

}

result();

const timeElapsed = Date.now();
const today = new Date(timeElapsed);
const dataAtual = today.toLocaleDateString();
 var npedido = prompt("digite o numero do pedido: ");
 var cliente = prompt("digite o nome do cliente :"); 
 var transp = prompt("digite o nome da transportadora :");

document.querySelectorAll('td')[12].innerHTML = npedido;
document.querySelectorAll('td')[13].innerHTML = cliente.toUpperCase();

document.querySelectorAll('span div')[0].innerHTML = `DATA: ${dataAtual}`;
document.querySelectorAll('span div')[1].innerHTML = `TRANSPORTADORA: ${transp.toUpperCase()}`;



//assinatura digital

const canvas = document.querySelector("canvas");
const btnClear = document.querySelector("#btn-clear");

const signaturePad = new SignaturePad(canvas);

signaturePad.minWidth = 1;
signaturePad.maxWidth = 1;
signaturePad.penColor = "rgb(66, 133, 244)";

function resizeCanvas() {
  const ratio =  Math.max(window.devicePixelRatio || 1, 1);
  canvas.width = canvas.offsetWidth * ratio;
  canvas.height = canvas.offsetHeight * ratio;
  canvas.getContext("2d").scale(ratio, ratio);
  signaturePad.clear(); // otherwise isEmpty() might return incorrect value
}

window.addEventListener("resize", resizeCanvas);
resizeCanvas();

btnClear.addEventListener('click', function (event) {
  signaturePad.clear();
}); 

</script>
</body>
</html>
